    <h2>Upload A CSV File w/ Product Tokens</h2> 

    <div class="pull-right"><a href='example.csv'>Download CSV Template</a></div><br>


<%= form_tag upc_import_path(@upc), :multipart => true do %>
  <%# unless @errors.blank? %>
    <%# @errors.each do |error| %>
      <%#= "Record Number: #{error[:record_number]}"  %>
      <%#= "Error: #{error[:message]}" %>
      <%#*<br/>%>
    <%# end %>
  <%# end %>
  <%= file_field_tag "file", class: 'form-control', placeholder:'Choose a file...' %>
  <br/><br/>
  <button type="submit" id="submitbtn" class="btn btn-primary pull-right">Submit</button>
<% end %>




  </div> <!-- /container -->

  <div class="container">

    <div class="starter-template" id="utilityWrapper">
      <h1>Mining</h1>


      <div id="loading"><img src='assets/loading.gif'></div>
      <h2>Processing your file</h2> 
      <h5>These tokens will be saved to your wallet for product verification</h5>
      <p id='walletLink'><a href="#">Your wallet is ready</a></p>



      <!-- /postSiteLoad -->



    </div>

  </div><!-- /.container -->


  <div class="container">


    <div id="catMsg"></div>
    <div id="result"></div>
  </div><!-- /.container -->

<script>



/////////////////
//login functions
/////////////////



/////////////////
//\login functions
/////////////////


function uploadProduct() {


 $("#loginWrapper").hide();

 $("#utilityWrapper").show();
 $("#loading").show();
 $("#walletLink").hide();
 setTimeout(function(){ 

  $("#walletLink").show();
  $("#loading").hide();
}, 3000);

 var token = "";     

//********************

$("#result").html("");
$("#msg").html("");

console.log('yo')
return token;       
}






$( document ).ready(function() {

  $('#signinBtn').on('click',function() {
    $(this).prop("disabled",true);
  });



  $("#postSiteLoad").hide();

  $("#utilityWrapper").hide();






});     

function bs_input_file() {
  $(".input-file").before(
    function() {
      if ( ! $(this).prev().hasClass('input-ghost') ) {
        var element = $("<input type='file' class='input-ghost' style='visibility:hidden; height:0'>");
        element.attr("name",$(this).attr("name"));
        element.change(function(){
          element.next(element).find('input').val((element.val()).split('\\').pop());
        });
        $(this).find("button.btn-choose").click(function(){
          $("button[type=submit]").removeAttr("disabled");
          element.click();
        });
        $(this).find("button.btn-reset").click(function(){
          element.val(null);
          $(this).parents(".input-file").find('input').val('');
        });
        $(this).find('input').css("cursor","pointer");
        $(this).find('input').mousedown(function() {
          $(this).parents('.input-file').prev().click();

          return false;
        });
        return element;
      }
    }
    );
}
$(function() {
  bs_input_file();
});

</script>
